[TOC]

## 团建抽奖程序设定

### 团建奖励规则

本抽奖是基于权重的。活动积分前三名的组可以获得更大的抽奖权重，所有参与人员均具有抽奖资格，且均可获得参与纪念奖励。需要抽出一等奖一名、二等奖两名、三等奖三名，若未中以上奖项则获得参与奖（普通奖励）。

### 抽奖程序说明

本抽奖程序应当是一个基于权重的随机选择程序。

以 $[FirstPlace, SecondPlace, ThirdPlace]$ 表示权重值，则：

- **积分第一名组别的组员：[15, 39, 50]**
- **积分第二名组别的组员：[10, 25, 43]**
- **积分第三名组别的组员：[5, 13, 33]**
- **其余组员：[1, 5, 15]**

---

抽奖程序的简单原理为：

- 根据权重数组的和值 weightSum，在每次抽奖时生成一个权重随机数 weightRandom，weightRandom 是介于 0 - weightSum 之间的。此处设置和值为 **100**.
- 然后让 weightRandom 去和权重数组中的所有元素值作比较，计算 weightRandom 位于哪两个奖项之间，符合哪条中奖规则，对应哪个奖项名称。
    - *即，0 < weightSum <= FirstPlaceWeight 时获得一等奖，FirstPlaceWeight < weightSum <= SecondPlaceWeight 时获得二等奖，后面以此类推*
- 如若抽得非参与奖的人数大于规定人数，则在抽得的成员数组中再进行若干次单纯随机选择，选中规定的中奖人数。

---

对于需要进行二次抽奖的组别，变为“由奖抽人”模式。选择到了指定人数后即停止抽奖。

以 $[FirstPlace, SecondPlace, ThirdPlace, Other]$ 表示权重值，则此时奖选择人的权重设置为 **[30, 14, 6, 2]** 。

### 概率验证

主文件中添加了极其简单暴力的概率验证方法 runTest() 以供概率验证，下面给出结果。

- **抽奖 10000 次时：**

积分赛第一名队员抽中一等奖的概率是：0.07346666666666667
积分赛第一名队员抽中二等奖的概率是：0.15215
积分赛第一名队员抽中三等奖的概率是：0.09491666666666666

积分赛第二名队员抽中一等奖的概率是：0.05575
积分赛第二名队员抽中二等奖的概率是：0.10901666666666666
积分赛第二名队员抽中三等奖的概率是：0.20371666666666666

积分赛第三名队员抽中一等奖的概率是：0.021116666666666666
积分赛第三名队员抽中二等奖的概率是：0.04123333333333333
积分赛第三名队员抽中三等奖的概率是：0.14306666666666668

其余队员抽中一等奖的概率是：0.01633333333333333
其余队员抽中二等奖的概率是：0.0459
其余队员抽中三等奖的概率是：0.09835

可以看到有权重区别。

- **抽奖 1000000 次时：**

积分赛第一名队员抽中一等奖的概率是：0.07289
积分赛第一名队员抽中二等奖的概率是：0.14971166666666666
积分赛第一名队员抽中三等奖的概率是：0.09547833333333333

积分赛第二名队员抽中一等奖的概率是：0.056606666666666666
积分赛第二名队员抽中二等奖的概率是：0.10879833333333333
积分赛第二名队员抽中三等奖的概率是：0.2023

积分赛第三名队员抽中一等奖的概率是：0.020753333333333332
积分赛第三名队员抽中二等奖的概率是：0.042465
积分赛第三名队员抽中三等奖的概率是：0.14028166666666667

其余队员抽中一等奖的概率是：0.016416666666666666
其余队员抽中二等奖的概率是：0.046753333333333334
其余队员抽中三等奖的概率是：0.10057333333333333

可以看到有权重区别。

---

需要注意的是，本程序的权重依然有待调整。
